apiVersion: plugins.kubegems.io/v1beta1
kind: Plugin
metadata:
  annotations:
    plugins.kubegems.io/category: core/KubeGems
    plugins.kubegems.io/description: KubeGems PAI components
  name: kubegems-pai
  namespace: kubegems-installer
spec:
  chart: kubegems-pai
  installNamespace: kubegems-pai
  kind: helm
  url: https://charts.kubegems.io/kubegems
  version: ${xpaiVersion}
  values:
    api:
      enabled: true
    controller:
      enabled: true
      ingress:
        baseHost: ${baseHost}
        className: default-gateway
      s3:
        accessKey: ${s3Accesskey}
        addr: http://{$s3Endpoint}
        bucket: ${s3Bucket}
        capacity: ${s3Capacity}
        pathStyle: true
        secretKey: ${s3Secretkey}
      volcano:
        enabled: true
        vgpu:
          enabled: ${enableVgpu}
    node:
      enabled: true
  valuesFrom:
  - kind: ConfigMap
    name: kubegems-global-values
    optional: true
    prefix: global.
